# ===================================================================================================
# completeness bins for 2x2 ext-simulated deep image
metric = list(["# EXT 2x2 DEEP COMPLETENESS:"])
metric.append(" id        fluxes       n_injected n_aegean        aegean        n_caesar        caesar        n_profound       profound      n_pybdsf        pybdsf       n_selavy        selavy       ")
metric.append("--- ------------------- ---------- -------- -------------------- -------- -------------------- ---------- ------------------- -------- ------------------- -------- --------------------")
metric.append("  1  0.1435780990753782          5        0                  0.0        0                  0.0          0                 0.0        1                 0.2        0                  0.0")
metric.append("  2 0.17989507871600882         16        1               0.0625        1               0.0625          1              0.0625        3              0.1875        0                  0.0")
metric.append("  3 0.22539815998851545         24        1 0.041666666666666664        3                0.125          5 0.20833333333333334        4 0.16666666666666666        1 0.041666666666666664")
metric.append("  4 0.28241089688957316         43        2 0.046511627906976744        0                  0.0         10 0.23255813953488372       11  0.2558139534883721        1 0.023255813953488372")
metric.append("  5  0.3538445685893658         49        2  0.04081632653061224        2  0.04081632653061224          5 0.10204081632653061       13  0.2653061224489796        0                  0.0")
metric.append("  6  0.4433468400093351         81       11  0.13580246913580246        9   0.1111111111111111         22  0.2716049382716049       35 0.43209876543209874        4  0.04938271604938271")
metric.append("  7   0.555488024953593        170       13  0.07647058823529412       16  0.09411764705882353         21 0.12352941176470589       33 0.19411764705882353        5 0.029411764705882353")
metric.append("  8  0.6959944630717257        865       30  0.03468208092485549       28  0.03236994219653179         54 0.06242774566473988      102 0.11791907514450867        8 0.009248554913294798")
metric.append("  9  0.8720409277355146       1289       59 0.045771916214119475       50 0.038789759503491075         79  0.0612878200155159      130  0.1008533747090768       16 0.012412723041117145")
metric.append(" 10  1.0926169962467764       1052       82   0.0779467680608365       57  0.05418250950570342         89 0.08460076045627377      148 0.14068441064638784       23 0.021863117870722433")
metric.append(" 11  1.3689860905810662        892       87  0.09753363228699552       52  0.05829596412556054         93 0.10426008968609865      130 0.14573991031390135       20  0.02242152466367713")
metric.append(" 12  1.7152606289689694        811      117   0.1442663378545006       76    0.093711467324291        123 0.15166461159062886      183 0.22564734895191121       43   0.0530209617755857")
metric.append(" 13  2.1491226576613647        716      191  0.26675977653631283      106  0.14804469273743018        161 0.22486033519553073      210 0.29329608938547486       52  0.07262569832402235")
metric.append(" 14   2.692726760976104        596      257   0.4312080536912752      138  0.23154362416107382        187   0.313758389261745      240 0.40268456375838924       60  0.10067114093959731")
metric.append(" 15  3.3738313555202217        500      346                0.692      205                 0.41        238               0.476      287               0.574      102                0.204")
metric.append(" 16   4.227216136614327        401      359   0.8952618453865336      273   0.6807980049875312        259  0.6458852867830424      303  0.7556109725685786      153  0.38154613466334164")
metric.append(" 17  5.2964580569253785        340      314   0.9235294117647059      294   0.8647058823529412        253  0.7441176470588236      295  0.8676470588235294      226   0.6647058823529411")
metric.append(" 18   6.636156525281816        297      277   0.9326599326599326      276   0.9292929292929293        241  0.8114478114478114      275  0.9259259259259259      227   0.7643097643097643")
metric.append(" 19   8.314721452472913        275      256   0.9309090909090909      248   0.9018181818181819        233  0.8472727272727273      255  0.9272727272727272      225   0.8181818181818182")
metric.append(" 20  10.417866511862803        236      226   0.9576271186440678      221   0.9364406779661016        211  0.8940677966101694      223  0.9449152542372882      202   0.8559322033898306")
metric.append(" 21  13.052985993501144        170      164   0.9647058823529412      161   0.9470588235294117        150  0.8823529411764706      162  0.9529411764705882      147   0.8647058823529412")
metric.append(" 22  16.354638749932644        187      179   0.9572192513368984      174     0.93048128342246        169  0.9037433155080213      173  0.9251336898395722      156   0.8342245989304813")
metric.append(" 23  20.491419264064906        140      135   0.9642857142857143      130   0.9285714285714286        127  0.9071428571428571      133                0.95      123   0.8785714285714286")
metric.append(" 24  25.674566700986848        127      122   0.9606299212598425      118   0.9291338582677166        120  0.9448818897637795      122  0.9606299212598425      109   0.8582677165354331")
metric.append(" 25   32.16875155345681        109      108   0.9908256880733946      108   0.9908256880733946        102  0.9357798165137615      107   0.981651376146789       86   0.7889908256880734")
metric.append(" 26   40.30559068668739         85       83   0.9764705882352941       82   0.9647058823529412         83  0.9764705882352941       82  0.9647058823529412       70   0.8235294117647058")
metric.append(" 27  50.500580910116504         71       71                  1.0       70   0.9859154929577465         68  0.9577464788732394       71                 1.0       60   0.8450704225352113")
metric.append(" 28  63.274315766362704         56       56                  1.0       56                  1.0         54  0.9642857142857143       56                 1.0       50   0.8928571428571429")
metric.append(" 29    79.2790689443207         63       61   0.9682539682539683       59   0.9365079365079365         62  0.9841269841269841       61  0.9682539682539683       57   0.9047619047619048")
metric.append(" 30    99.3321017628391         50       49                 0.98       48                 0.96         49                0.98       49                0.98       44                 0.88")
metric.append(" 31  124.45739552709347         39       39                  1.0       38   0.9743589743589743         37  0.9487179487179487       39                 1.0       31   0.7948717948717948")
metric.append(" 32  155.93793976462666         28       28                  1.0       28                  1.0         27  0.9642857142857143       27  0.9642857142857143       26   0.9285714285714286")
metric.append(" 33  195.38124636990958         24       24                  1.0       22   0.9166666666666666         24                 1.0       24                 1.0       15                0.625")
metric.append(" 34  244.80143504960392         23       23                  1.0       23                  1.0         23                 1.0       23                 1.0       20   0.8695652173913043")
metric.append(" 35   306.7220816520231         23       23                  1.0       23                  1.0         23                 1.0       23                 1.0       21   0.9130434782608695")
metric.append(" 36  384.30508119320217         19       19                  1.0       19                  1.0         19                 1.0       19                 1.0       16   0.8421052631578947")
metric.append(" 37   481.5121057976798         20       20                  1.0       20                  1.0         19                0.95       19                0.95       18                  0.9")
metric.append(" 38   603.3069021878371         16       16                  1.0       16                  1.0         16                 1.0       16                 1.0       16                  1.0")
metric.append(" 39    755.908758772558         11       11                  1.0       11                  1.0         11                 1.0       11                 1.0       10   0.9090909090909091")
metric.append(" 40   947.1100852931504          8        8                  1.0        8                  1.0          8                 1.0        8                 1.0        7                0.875")
metric.append(" 41  1186.6743218064737          9        9                  1.0        9                  1.0          9                 1.0        9                 1.0        8   0.8888888888888888")
metric.append(" 42   1486.834495695385          6        6                  1.0        6                  1.0          6                 1.0        6                 1.0        5   0.8333333333333334")
metric.append(" 43  1862.9178848535607          4        4                  1.0        4                  1.0          4                 1.0        4                 1.0        4                  1.0")
metric.append(" 44  2334.1286846349008          5        5                  1.0        5                  1.0          5                 1.0        5                 1.0        5                  1.0")
metric.append(" 45  2924.5286444086764         10       10                  1.0       10                  1.0         10                 1.0       10                 1.0        9                  0.9")
metric.append(" 46   3664.265748614736          2        2                  1.0        2                  1.0          2                 1.0        2                 1.0        1                  0.5")
metric.append(" 47  4591.1136832738885          4        4                  1.0        4                  1.0          4                 1.0        4                 1.0        4                  1.0")
metric.append(" 48  5752.4006987520825          3        3                  1.0        3                  1.0          3                 1.0        3                 1.0        3                  1.0")
metric.append(" 49   7207.426363576155          2        2                  1.0        2                  1.0          2                 1.0        2                 1.0        2                  1.0")
metric.append(" 50   9030.489617602943          1        1                  1.0        1                  1.0          1                 1.0        1                 1.0        1                  1.0")


# compleness bins for 2x2 ext-simulated deep image
cluster_cat  = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.cluster_catalogue.fits"
injected_cat = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.emusim2x2.external_catalogue.fits"
bins=[0.143578,0.179895,0.225398,0.282411,0.353845,0.443347,0.555488,0.695994,0.872041,1.092617,1.368986,1.715261,2.149123,2.692727,3.373831,4.227216,5.296458,6.636157,8.314721,10.417867,13.052986,16.354639,20.491419,25.674567,32.168752,40.305591,50.500581,63.274316,79.279069,99.332102,124.457396,155.937940,195.381246,244.801435,306.722082,384.305081,481.512106,603.306902,755.908759,947.110085,1186.674322,1486.834496,1862.917885,2334.128685,2924.528644,3664.265749,4591.113683,5752.400699,7207.426364,9030.489618,11314.682748]

cd = Clump(cluster_cat,injected_cat,'EMUSim2x2',bins,'deep')
qi = cd.get_injected()
qc = cd.get_cluster()
cd.get_clump_ids(1)

