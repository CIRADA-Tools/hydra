# ===================================================================================================
# compleness bins for 2x2 ext-simulated shallow-deep image
metric = list(["# EXT 2x2 SHALLOW-DEEP COMPLETENESS:"])
metric.append(" id        fluxes        nd_aegean ns_aegean        aegean        nd_caesar ns_caesar        caesar        nd_profound ns_profound       profound       nd_pybdsf ns_pybdsf        pybdsf        nd_selavy ns_selavy        selavy       ")
metric.append("--- -------------------- --------- --------- -------------------- --------- --------- -------------------- ----------- ----------- -------------------- --------- --------- -------------------- --------- --------- --------------------")
metric.append("  1 0.014358867198311013         0         0                  nan         1         1                  1.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  2 0.018286227035522924         0         0                  nan         2         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  3  0.02328777713286618         0         0                  nan         1         1                  1.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  4 0.029657324211086862         0         0                  nan         3         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  5 0.037769035419022226         0         0                  nan         0         0                  nan           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  6  0.04809941808405236         0         0                  nan         1         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  7 0.061255311245233736         0         0                  nan         1         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  8  0.07800953327945824         0         0                  nan         3         1   0.3333333333333333           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append("  9  0.09934627967386937         0         0                  nan         3         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append(" 10  0.12651893775190148         0         0                  nan         2         1                  0.5           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append(" 11    0.161123714571063         0         0                  nan         4         0                  0.0           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append(" 12  0.20519340312582734         0         0                  nan         2         1                  0.5           0           0                  nan         0         0                  nan         0         0                  nan")
metric.append(" 13  0.26131679497612587         0         0                  nan         6         2   0.3333333333333333           0           0                  nan         0         0                  nan         2         0                  0.0")
metric.append(" 14   0.3327907539733157         0         0                  nan         6         0                  0.0           0           0                  nan         2         0                  0.0         0         0                  nan")
metric.append(" 15   0.4238138843706781         5         0                  0.0        10         0                  0.0           2           0                  0.0         4         0                  0.0         2         0                  0.0")
metric.append(" 16   0.5397331699899475       298         4 0.013422818791946308        20         0                  0.0          71           0                  0.0        20         0                  0.0         7         0                  0.0")
metric.append(" 17   0.6873580728011471       548         6 0.010948905109489052       161         0                  0.0         187           2   0.0106951871657754       149         5  0.03355704697986577         4         0                  0.0")
metric.append(" 18    0.875360542050263       350         3 0.008571428571428572       297         4 0.013468013468013467         283           5   0.0176678445229682       422         4 0.009478672985781991        74         0                  0.0")
metric.append(" 19   1.1147844317239994       351         8 0.022792022792022793       341         7 0.020527859237536656         355           5 0.014084507042253521       566        14 0.024734982332155476       240         0                  0.0")
metric.append(" 20    1.419694251129317       372         8 0.021505376344086023       369        11  0.02981029810298103         389           7 0.017994858611825194       667        21 0.031484257871064465       295         1 0.003389830508474576")
metric.append(" 21    1.808001358229086       314        15  0.04777070063694268       314        14 0.044585987261146494         327           8 0.024464831804281346       556        18  0.03237410071942446       276         0                  0.0")
metric.append(" 22   2.3025161289185663       269        34  0.12639405204460966       281        21  0.07473309608540925         329          13  0.03951367781155015       443        25 0.056433408577878104       220         1 0.004545454545454545")
metric.append(" 23   2.9322879099620676       240        53  0.22083333333333333       247        31  0.12550607287449392         276          19  0.06884057971014493       324        27  0.08333333333333333       208         2 0.009615384615384616")
metric.append(" 24   3.7343114686228587       187       111   0.5935828877005348       244        87  0.35655737704918034         235          49  0.20851063829787234       245        68  0.27755102040816326       166        13   0.0783132530120482")
metric.append(" 25    4.755700181183298       183       137   0.7486338797814208       215       116   0.5395348837209303         196          80  0.40816326530612246       190        97   0.5105263157894737       152        39   0.2565789473684211")
metric.append(" 26    6.056453620256658       153       114   0.7450980392156863       182       117   0.6428571428571429         177         102    0.576271186440678       170       117   0.6882352941176471       131        68   0.5190839694656488")
metric.append(" 27     7.71298211763913       144       103   0.7152777777777778       169       110    0.650887573964497         158         109    0.689873417721519       150       113   0.7533333333333333       111        79   0.7117117117117117")
metric.append(" 28    9.822595346565208       102        78   0.7647058823529411       112        76   0.6785714285714286         116          85   0.7327586206896551       112        78   0.6964285714285714        88        63   0.7159090909090909")
metric.append(" 29   12.509218596749077        83        65   0.7831325301204819        90        64   0.7111111111111111          96          71   0.7395833333333334       102        71    0.696078431372549        79        58   0.7341772151898734")
metric.append(" 30   15.930672534115063        89        73   0.8202247191011236        84        68   0.8095238095238095          93          83   0.8924731182795699       101        80   0.7920792079207921        91        62   0.6813186813186813")
metric.append(" 31   20.287944081108538        77        67   0.8701298701298701        84        69   0.8214285714285714          79          71   0.8987341772151899        92        77   0.8369565217391305        76        53   0.6973684210526315")
metric.append(" 32    25.83699301813881        54        49   0.9074074074074074        58        48   0.8275862068965517          57          54   0.9473684210526315        61        54   0.8852459016393442        54        39   0.7222222222222222")
metric.append(" 33    32.90378786290893        49        46   0.9387755102040817        50        41                 0.82          53          52   0.9811320754716981        58        57   0.9827586206896551        47        35   0.7446808510638298")
metric.append(" 34    41.90345428228565        35        34   0.9714285714285714        37        32   0.8648648648648649          41          40    0.975609756097561        39        39                  1.0        37        30   0.8108108108108109")
metric.append(" 35   53.364660874408145        34        33   0.9705882352941176        32        31              0.96875          36          36                  1.0        36        36                  1.0        24        23   0.9583333333333334")
metric.append(" 36    67.96067481826837        31        31                  1.0        34        32   0.9411764705882353          30          30                  1.0        34        34                  1.0        33        33                  1.0")
metric.append(" 37    86.54891169690463        30        30                  1.0        31        29   0.9354838709677419          31          31                  1.0        29        29                  1.0        26        26                  1.0")
metric.append(" 38   110.22130277471935        24        24                  1.0        23        22   0.9565217391304348          23          23                  1.0        24        24                  1.0        20        20                  1.0")
metric.append(" 39   140.36843846057104        22        22                  1.0        24        23   0.9583333333333334          22          22                  1.0        24        24                  1.0        22        21   0.9545454545454546")
metric.append(" 40    178.7612559446022        10        10                  1.0        10        10                  1.0          12          12                  1.0        11        11                  1.0         8         8                  1.0")
metric.append(" 41   227.65506959648778        10        10                  1.0         9         9                  1.0           9           9                  1.0        10        10                  1.0        10        10                  1.0")
metric.append(" 42   289.92205519658427        10        10                  1.0        10        10                  1.0          10          10                  1.0        10        10                  1.0         8         8                  1.0")
metric.append(" 43    369.2199705387447         9         9                  1.0         9         8   0.8888888888888888           9           9                  1.0         9         9                  1.0         7         7                  1.0")
metric.append(" 44    470.2070235815502         4         4                  1.0         4         4                  1.0           4           4                  1.0         4         4                  1.0         4         4                  1.0")
metric.append(" 45    598.8155101762555         8         8                  1.0         8         8                  1.0           8           8                  1.0         8         8                  1.0         8         8                  1.0")
metric.append(" 46    762.6002957088093         6         6                  1.0         6         6                  1.0           6           6                  1.0         6         6                  1.0         5         5                  1.0")
metric.append(" 47    971.1826115592548         3         3                  1.0         3         3                  1.0           3           3                  1.0         3         3                  1.0         3         3                  1.0")
metric.append(" 48   1236.8152363727927         4         4                  1.0         4         4                  1.0           4           4                  1.0         4         4                  1.0         3         3                  1.0")
metric.append(" 49   1575.1022626608853         2         2                  1.0         2         2                  1.0           2           2                  1.0         2         2                  1.0         2         2                  1.0")
metric.append(" 50   2005.9157300772856         1         1                  1.0         1         1                  1.0           1           1                  1.0         1         1                  1.0         1         1                  1.0")


# compleness bins for 2x2 ext-simulated shallow-deep image
cluster_cat       = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.cluster_catalogue.fits"
injected_cat      = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.emusim2x2.external_catalogue.fits"
completenenss_cat = "ext_2x2/xtables/completeness_deep_shallow_image_plot_data_table.fits"
bins=[0.014359,0.018286,0.023288,0.029657,0.037769,0.048099,0.061255,0.078010,0.099346,0.126519,0.161124,0.205193,0.261317,0.332791,0.423814,0.539733,0.687358,0.875361,1.114784,1.419694,1.808001,2.302516,2.932288,3.734311,4.755700,6.056454,7.712982,9.822595,12.509219,15.930673,20.287944,25.836993,32.903788,41.903454,53.364661,67.960675,86.548912,110.221303,140.368438,178.761256,227.655070,289.922055,369.219971,470.207024,598.815510,762.600296,971.182612,1236.815236,1575.102263,2005.915730,2554.562971]

cd = sdCompleteness(completenenss_cat,cluster_cat,injected_cat,'EMUSim2x2',bins,'shallow_deep')
qi = cd.get_injected()
qc = cd.get_cluster()
cd.get_stats(1)

