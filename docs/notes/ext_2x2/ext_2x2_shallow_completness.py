# ===================================================================================================
# compleness bins for 2x2 ext-simulated shallow image
metric = list(["# EXT 2x2 SHALLOW COMPLETENESS:"])
metric.append(" id        fluxes        n_injected n_aegean        aegean        n_caesar        caesar        n_profound        profound       n_pybdsf        pybdsf        n_selavy         selavy       ")
metric.append("--- -------------------- ---------- -------- -------------------- -------- -------------------- ---------- --------------------- -------- -------------------- -------- ---------------------")
metric.append("  1  0.02849716133105187          4        0                  0.0        1                 0.25          0                   0.0        2                  0.5        0                   0.0")
metric.append("  2 0.035792134974521064         13        0                  0.0        1  0.07692307692307693          0                   0.0        0                  0.0        0                   0.0")
metric.append("  3  0.04495454516160566         21        1 0.047619047619047616        1 0.047619047619047616          1  0.047619047619047616        3  0.14285714285714285        1  0.047619047619047616")
metric.append("  4  0.05646243601074495         42        1 0.023809523809523808        3  0.07142857142857142          1  0.023809523809523808        1 0.023809523809523808        1  0.023809523809523808")
metric.append("  5  0.07091622590790338         49        0                  0.0        1  0.02040816326530612          1   0.02040816326530612        1  0.02040816326530612        0                   0.0")
metric.append("  6  0.08907003403224982         72        1 0.013888888888888888        1 0.013888888888888888          1  0.013888888888888888        0                  0.0        0                   0.0")
metric.append("  7   0.1118710261430027         93        0                  0.0        5 0.053763440860215055          2  0.021505376344086023        1 0.010752688172043012        0                   0.0")
metric.append("  8  0.14050883247397225        851        5 0.005875440658049354       14  0.01645123384253819          7  0.008225616921269096       10 0.011750881316098707        2 0.0023501762632197414")
metric.append("  9   0.1764776160894602       1285        6 0.004669260700389105       12  0.00933852140077821          8 0.0062256809338521405       16 0.012451361867704281        1 0.0007782101167315176")
metric.append(" 10  0.22165403008660012       1116        3 0.002688172043010753        6 0.005376344086021506          7 0.0062724014336917565       14 0.012544802867383513        0                   0.0")
metric.append(" 11   0.2783951310217504        884        9 0.010180995475113122       16  0.01809954751131222         14   0.01583710407239819       21 0.023755656108597284        1 0.0011312217194570137")
metric.append(" 12   0.3496613571444509        850        7  0.00823529411764706       10 0.011764705882352941          8  0.009411764705882352       10 0.011764705882352941        0                   0.0")
metric.append(" 13   0.4391709877661153        696        9  0.01293103448275862        7 0.010057471264367816         10  0.014367816091954023       16 0.022988505747126436        0                   0.0")
metric.append(" 14   0.5515941426029163        622       13  0.02090032154340836       13  0.02090032154340836         14  0.022508038585209004       20  0.03215434083601286        1  0.001607717041800643")
metric.append(" 15   0.6927964429104794        494        9 0.018218623481781375       11 0.022267206477732792         12  0.024291497975708502       19 0.038461538461538464        4  0.008097165991902834")
metric.append(" 16    0.870145047306881        411       12 0.029197080291970802       13 0.031630170316301706         13  0.031630170316301706       18 0.043795620437956206        2  0.004866180048661801")
metric.append(" 17   1.0928930295482633        344       21 0.061046511627906974       20  0.05813953488372093         22   0.06395348837209303       25  0.07267441860465117       11   0.03197674418604651")
metric.append(" 18   1.3726621529731435        298       18  0.06040268456375839       18  0.06040268456375839         18   0.06040268456375839       23  0.07718120805369127        7   0.02348993288590604")
metric.append(" 19   1.7240492301279313        275       27  0.09818181818181818       25  0.09090909090909091         26   0.09454545454545454       28  0.10181818181818182       11                  0.04")
metric.append(" 20    2.165387704080501        219       37   0.1689497716894977       29   0.1324200913242009         26    0.1187214611872146       27   0.1232876712328767       12    0.0547945205479452")
metric.append(" 21   2.7197041865417537        218       58  0.26605504587155965       38   0.1743119266055046         30   0.13761467889908258       33  0.15137614678899083       10  0.045871559633027525")
metric.append(" 22    3.415919859687979        167       92   0.5508982035928144       63   0.3772455089820359         48    0.2874251497005988       53  0.31736526946107785       16   0.09580838323353294")
metric.append(" 23      4.2903594242166        138      118    0.855072463768116      100   0.7246376811594203         66    0.4782608695652174       82   0.5942028985507246       30   0.21739130434782608")
metric.append(" 24    5.388646322237063        136      132   0.9705882352941176      120   0.8823529411764706        103    0.7573529411764706      119                0.875       69    0.5073529411764706")
metric.append(" 25   6.7680831172929405        111      109   0.9819819819819819      109   0.9819819819819819        100    0.9009009009009009      107    0.963963963963964       82    0.7387387387387387")
metric.append(" 26    8.500641226639143         88       86   0.9772727272727273       84   0.9545454545454546         83    0.9431818181818182       86   0.9772727272727273       78    0.8863636363636364")
metric.append(" 27   10.676715993544041         65       65                  1.0       64   0.9846153846153847         62    0.9538461538461539       65                  1.0       61    0.9384615384615385")
metric.append(" 28   13.409843018615174         52       52                  1.0       52                  1.0         52                   1.0       52                  1.0       48    0.9230769230769231")
metric.append(" 29   16.842621822350356         61       59   0.9672131147540983       59   0.9672131147540983         59    0.9672131147540983       59   0.9672131147540983       53    0.8688524590163934")
metric.append(" 30    21.15415590301277         47       46   0.9787234042553191       46   0.9787234042553191         46    0.9787234042553191       46   0.9787234042553191       45    0.9574468085106383")
metric.append(" 31   26.569397371087085         38       38                  1.0       38                  1.0         37    0.9736842105263158       38                  1.0       34    0.8947368421052632")
metric.append(" 32   33.370883711894706         29       29                  1.0       28   0.9655172413793104         28    0.9655172413793104       29                  1.0       26     0.896551724137931")
metric.append(" 33    41.91347903602206         24       24                  1.0       23   0.9583333333333334         24                   1.0       24                  1.0       21                 0.875")
metric.append(" 34   52.642888934849786         21       21                  1.0       21                  1.0         21                   1.0       21                  1.0       19    0.9047619047619048")
metric.append(" 35     66.1189149444071         19       19                  1.0       19                  1.0         19                   1.0       19                  1.0       19                   1.0")
metric.append(" 36    83.04466190744421         24       24                  1.0       24                  1.0         24                   1.0       24                  1.0       21                 0.875")
metric.append(" 37   104.30322211307069         17       17                  1.0       16   0.9411764705882353         17                   1.0       17                  1.0       17                   1.0")
metric.append(" 38   131.00375019039396         19       19                  1.0       19                  1.0         19                   1.0       19                  1.0       18    0.9473684210526315")
metric.append(" 39   164.53933269043776          7        7                  1.0        7                  1.0          7                   1.0        7                  1.0        7                   1.0")
metric.append(" 40    206.6596716725115          6        6                  1.0        6                  1.0          6                   1.0        6                  1.0        6                   1.0")
metric.append(" 41    259.5623745244003          9        9                  1.0        9                  1.0          9                   1.0        9                  1.0        9                   1.0")
metric.append(" 42   326.00761301657656          6        6                  1.0        5   0.8333333333333334          6                   1.0        6                  1.0        6                   1.0")
metric.append(" 43    409.4621338686172          4        4                  1.0        4                  1.0          4                   1.0        4                  1.0        3                  0.75")
metric.append(" 44    514.2801345062957          5        5                  1.0        5                  1.0          5                   1.0        5                  1.0        5                   1.0")
metric.append(" 45    645.9304411105271          9        9                  1.0        9                  1.0          9                   1.0        9                  1.0        9                   1.0")
metric.append(" 46     811.281841857984          4        4                  1.0        4                  1.0          4                   1.0        4                  1.0        4                   1.0")
metric.append(" 47   1018.9614624709433          4        4                  1.0        4                  1.0          4                   1.0        4                  1.0        4                   1.0")
metric.append(" 48   1279.8048821394382          3        3                  1.0        3                  1.0          3                   1.0        3                  1.0        3                   1.0")
metric.append(" 49   1607.4214743863727          2        2                  1.0        2                  1.0          2                   1.0        2                  1.0        2                   1.0")
metric.append(" 50   2018.9044692493621          1        1                  1.0        1                  1.0          1                   1.0        1                  1.0        1                   1.0")


# compleness bins for 2x2 ext-simulated shallow image
cluster_cat  = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.cluster_catalogue.fits"
injected_cat = "ext_2x2/xtables/emu_simulated_ext2x2.hydra.emusim2x2.external_catalogue.fits"
bins=[0.028497,0.035792,0.044955,0.056462,0.070916,0.089070,0.111871,0.140509,0.176478,0.221654,0.278395,0.349661,0.439171,0.551594,0.692796,0.870145,1.092893,1.372662,1.724049,2.165388,2.719704,3.415920,4.290359,5.388646,6.768083,8.500641,10.676716,13.409843,16.842622,21.154156,26.569397,33.370884,41.913479,52.642889,66.118915,83.044662,104.303222,131.003750,164.539333,206.659672,259.562375,326.007613,409.462134,514.280135,645.930441,811.281842,1018.961462,1279.804882,1607.421474,2018.904469,2535.722784]

cd = Clump(cluster_cat,injected_cat,'EMUSim2x2',bins,'shallow')
qi = cd.get_injected()
qc = cd.get_cluster()
cd.get_clump_ids(39)

